CREATE DATABASE form_data;

USE form_data;

-- Създаване на таблица за потребителска информация
CREATE TABLE users (
    id INT AUTO_INCREMENT PRIMARY KEY,     -- Уникален идентификатор за всеки запис
    name VARCHAR(100) NOT NULL,            -- Име на потребителя 
    email VARCHAR(100) NOT NULL UNIQUE,    -- Имейл адрес на потребителя 
    message TEXT NOT NULL,                 -- Съобщение от потребителя 
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP -- Дата и час на създаване на записа
);


Обяснение (на SQL):

1. "CREATE TABLE users" - Създава таблица с името "users" за съхранение на информацията
2. "id INT AUTO_INCREMENT PRIMARY KEY" -  Поле "id" е идентификатор който автоматично се увеличава с всеки нов запис
3. "name VARCHAR(100) NOT NULL" - Поле "name" е текстово поле с максимална дължина 100 символа и е задължително
4. "email VARCHAR(100) NOT NULL UNIQUE" - Поле "email" е текстово поле което трябва да е уникално и задължително
5. "message TEXT NOT NULL" - Поле "message" съхранява съобщенията на потребителите като е задължително
6. "created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP" - Поле "created_at" записва времето на създаване на записа автоматично

________________________________________________________________________________________________________________________________

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Form Submission</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-color: #f4f4f9;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
        }
        .form-container {
            background: #fff;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
            width: 300px;
        }
        .form-container h1 {
            text-align: center;
            margin-bottom: 20px;
        }
        .form-container input, .form-container textarea, .form-container button {
            width: 100%;
            margin: 10px 0;
            padding: 10px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .form-container button {
            background-color: #007BFF;
            color: white;
            cursor: pointer;
            border: none;  
        }
      textarea {
            resize: none; /* Премахва разтягането */
            height: 100px; /* Фиксира височината на текстовото поле */
        }
        .form-container button:hover {
            background-color: #0056b3;
        }
    </style>
</head>
<body>
    <div class="form-container">
        <h1>Contact Us</h1>
        <form action="http://localhost:5000/submit" method="POST">
            <input type="text" name="name" placeholder="Your Name" required>
            <input type="email" name="email" placeholder="Your Email" required>
            <textarea name="message" placeholder="Your Message" rows="5" required></textarea>
            <button type="submit">Submit</button>
        </form>
    </div>
</body>
</html>



Обяснение (на HTML и CSS):

1. "<html lang="en">" - Задава езика на съдържанието на страницата като английски.
2. "<meta charset="UTF-8">" - Декларира кодировката на страницата като UTF-8 за поддръжка на различни езици
3. "<meta name="viewport" content="width=device-width, initial-scale=1.0">" - Указва че страницата трябва да се адаптира за различни устройства
4. "<title>Form Submission</title>" - Задава заглавие на страницата което се показва в таба на браузъра
5. ".form-container" - Определя стиловете на контейнера на формата включително размер, цвят и сенки
6. "input, textarea, button" - Стилове за полетата за въвеждане текста и бутона включващи размери
7. "<div class="form-container">" - Контейнер, който държи формата и нейния дизайн
8. "<form action="http://localhost:5000/submit" method="POST">" - Определя че данните от формата ще бъдат изпратени към Python бекенд чрез POST заявка
9. "<input type="text" name="name" placeholder="Your Name" required>" - Текстово поле за въвеждане на име с указание че полето е задължително
10. "<input type="email" name="email" placeholder="Your Email" required>" - Поле за въвеждане на имейл адрес който трябва да е валиден и задъжителен
11. "<textarea name="message" placeholder="Your Message" rows="5" required>" - Текстова зона за съобщение с няколко реда която е задължителна
12. "<button type="submit">Submit</button>" - Бутон за изпращане на данните от формата
    
13. "font-family:" -  Определя стила на шрифта за текста в елемента
14. "background-color:" - Определя фоновия цвят на елемента
15.  "display:" - Определя как елементите се подреждат в HTML
16.  "justify-content:" - Подравнява елементите по основната ос
17.  "align-items:" - Подравнява елементите по второстепенната ос
18.  "height:" - Задава височината на елемента
19.  "margin:" - Определя външното разстояние около елемента
20.  "padding:" - Определя вътрешното разстояние между съдържанието и рамката на елемента
21.  "border-radius:" - Задава заоблени краища на рамката на елемента
22.  "box-shadow:" - Добавя сенки към елемента
23.  "text-align:" - Подравнява текста вътре в елемента
24.  "margin-bottom:" - Задава външно отстояние под елемента
25.  "color:" - Определя цвета на текста в елемента
26.  "cursor:" - Определя какъв тип курсор да се показва при поставяне на мишката върху елемента
 ______________________________________________________________________________________________________________________________________________________




<?php
// Настройки за свързване с базата данни
$host = 'localhost';
$username = 'root';
$password = ''; 
$database = 'form_data';

// Свързване към MySQL
$conn = new mysqli($host, $username, $password, $database);

// Проверка за грешки
if ($conn->connect_error) {
    die("Connection failed: " . $conn->connect_error);
}

// Получаване на данни от формата
$name = $_POST['name'];
$email = $_POST['email'];
$message = $_POST['message'];

// SQL заявка за добавяне на данни
$sql = "INSERT INTO users (name, email, message) VALUES ('$name', '$email', '$message')";

// Изпълнение на заявката
if ($conn->query($sql) === TRUE) {
    echo "<h1>Data submitted successfully!</h1>";
    echo "<a href='index.html'>Go Back</a>";
} else {
    echo "<h1>Error: " . $sql . "<br>" . $conn->error . "</h1>";
}

// Затваряне на връзката
$conn->close();
?>




Обяснение (на PHP):

1.  (Дефинира параметрите за връзка с MySQL: адрес на хоста, потребителско име, парола и име на базата данни)
    $host = 'localhost';
    $username = 'root';
    $password = ''; 
    $database = 'form_data';

2. (Създава връзка с MySQL базата данни, използвайки предоставените параметри)
    $conn = new mysqli($host, $username, $password, $database);

3. (Проверява дали връзката с базата данни е успешна; ако не, скриптът спира и показва съобщение за грешка)  
    if ($conn->connect_error) {
        die("Connection failed: " . $conn->connect_error);
    }

4. (Извлича данните, изпратени от HTML формата чрез метода POST, и ги запазва в променливи)   
    $name = $_POST['name'];
    $email = $_POST['email'];
    $message = $_POST['message'];

5. (Подготвя SQL заявка за вмъкване на данните в таблицата users)  
    $sql = "INSERT INTO users (name, email, message) VALUES ('$name', '$email', '$message')";

6. (Изпълнява SQL заявката и проверява дали е успешна:
    -Ако е успешна, показва съобщение за успех и линк за връщане.
    -Ако не, показва съобщение за грешка и информация за проблема.)
   
    if ($conn->query($sql) === TRUE) {
        echo "<h1>Data submitted successfully!</h1>";
        echo "<a href='index.html'>Go Back</a>";
    } else {
        echo "<h1>Error: " . $sql . "<br>" . $conn->error . "</h1>";
    }

7.  (Затваря връзката с базата данни, за да освободи ресурсите)
    $conn->close();

____________________________________________________________________________________________________________________________________________________

Стартиране:

1. Стартирате MySQL сървъра чрез XAMPP и създавате базата данни.
2. Стартирате Python приложението (app.py), което създава локален уеб сървър.
3. Отваряте HTML формата в браузъра, попълвате полетата и натискате "Submit".
4. Формата изпраща данните към Python сървъра, който ги записва в MySQL базата данни.
5. Сървърът връща съобщение за успех или грешка обратно към браузъра.



Помощни сайтове: 

1. w3schools
2. Programiz compiler
3. Developer mozilla



Задача 3 ми отне приблизително 6-7 часа с обяснението и почивките.





